/* styles.css - FIXED */
@import url('https://fonts.googleapis.com');
@import url('https://fonts.gstatic.com');
@import url('https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

html {
    scroll-behavior: smooth;
    -webkit-text-size-adjust: 100%;
    -webkit-tap-highlight-color: transparent;
    /* Disable pull-to-refresh on mobile */
    overscroll-behavior-y: none;
}

body {
    font-family: "Poppins", sans-serif;
    font-weight: 100;
    font-style: normal;
    @apply bg-blue-50 text-neutral-700 scroll-smooth;
    /* Prevent text selection on mobile except inputs */
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    user-select: none;
    touch-action: pan-y;
}

/* Enable text selection only for inputs and textareas */
input, textarea, [contenteditable="true"] {
    -webkit-user-select: text !important;
    user-select: text !important;
}

.scrollbar-none::-webkit-scrollbar {
    display: none;
}

.scrollbarCustom::-webkit-scrollbar {
    width: 10px;
    @apply bg-slate-100;
}

.scrollbarCustom::-webkit-scrollbar-thumb {
    @apply bg-blue-100 rounded-full;
}

.font-Literata {
    font-family: 'Literata', serif;
    font-weight: 300;
}

@keyframes float {
    0%, 100% {
        transform: translateY(0) rotate(0deg);
    }
    50% {
        transform: translateY(-20px) rotate(180deg);
    }
}

@keyframes glow {
    0%, 100% {
        opacity: 0.3;
    }
    50% {
        opacity: 0.7;
    }
}

@keyframes shimmer {
    0% {
        background-position: -1000px 0;
    }
    100% {
        background-position: 1000px 0;
    }
}

.echo-gradient {
    background: linear-gradient(
        135deg,
        rgba(59, 130, 246, 0.1),
        rgba(139, 92, 246, 0.1),
        rgba(236, 72, 153, 0.1)
    );
    background-size: 400% 400%;
    animation: gradient 15s ease infinite;
}

@keyframes gradient {
    0% {
        background-position: 0% 50%;
    }
    50% {
        background-position: 100% 50%;
    }
    100% {
        background-position: 0% 50%;
    }
}

.starry-bg {
    background: 
        radial-gradient(2px 2px at 20px 30px, #eee, transparent),
        radial-gradient(2px 2px at 40px 70px, #fff, transparent),
        radial-gradient(3px 3px at 60px 20px, #ddd, transparent),
        radial-gradient(2px 2px at 80px 50px, #fff, transparent),
        radial-gradient(3px 3px at 90px 80px, #eee, transparent);
    background-size: 300px 300px;
    animation: twinkle 8s infinite;
}

@keyframes twinkle {
    0%, 100% {
        opacity: 0.2;
    }
    50% {
        opacity: 0.5;
    }
}

/* Glitch effect for hover */
.glitch-hover {
    position: relative;
}

.glitch-hover:hover::before {
    content: attr(data-text);
    position: absolute;
    left: -2px;
    text-shadow: 2px 0 #f0f;
    background: transparent;
    overflow: hidden;
    clip: rect(0, 900px, 0, 0);
    animation: noise-anim 2s infinite linear alternate-reverse;
}

.glitch-hover:hover::after {
    content: attr(data-text);
    position: absolute;
    left: 2px;
    text-shadow: -2px 0 #0ff;
    background: transparent;
    overflow: hidden;
    clip: rect(0, 900px, 0, 0);
    animation: noise-anim 3s infinite linear alternate-reverse;
}

@keyframes noise-anim {
    0% {
        clip: rect(21px, 9999px, 16px, 0);
    }
    5% {
        clip: rect(95px, 9999px, 77px, 0);
    }
    10% {
        clip: rect(32px, 9999px, 84px, 0);
    }
    15% {
        clip: rect(45px, 9999px, 30px, 0);
    }
    20% {
        clip: rect(71px, 9999px, 80px, 0);
    }
    25% {
        clip: rect(40px, 9999px, 17px, 0);
    }
    30% {
        clip: rect(97px, 9999px, 6px, 0);
    }
    35% {
        clip: rect(65px, 9999px, 83px, 0);
    }
    40% {
        clip: rect(31px, 9999px, 63px, 0);
    }
    45% {
        clip: rect(73px, 9999px, 95px, 0);
    }
    50% {
        clip: rect(77px, 9999px, 39px, 0);
    }
    55% {
        clip: rect(3px, 9999px, 32px, 0);
    }
    60% {
        clip: rect(31px, 9999px, 65px, 0);
    }
    65% {
        clip: rect(2px, 9999px, 76px, 0);
    }
    70% {
        clip: rect(45px, 9999px, 31px, 0);
    }
    75% {
        clip: rect(70px, 9999px, 2px, 0);
    }
    80% {
        clip: rect(58px, 9999px, 94px, 0);
    }
    85% {
        clip: rect(43px, 9999px, 60px, 0);
    }
    90% {
        clip: rect(90px, 9999px, 70px, 0);
    }
    95% {
        clip: rect(84px, 9999px, 18px, 0);
    }
    100% {
        clip: rect(45px, 9999px, 90px, 0);
    }
}

/* Floating animation */
.float {
    animation: float 6s ease-in-out infinite;
}

/* Glowing border */
.glow-border {
    position: relative;
}

.glow-border::after {
    content: '';
    position: absolute;
    inset: -2px;
    background: linear-gradient(45deg, #60a5fa, #a855f7, #ec4899);
    border-radius: inherit;
    z-index: -1;
    opacity: 0;
    transition: opacity 0.3s;
}

.glow-border:hover::after {
    opacity: 0.5;
    animation: spin 2s linear infinite;
}

@keyframes spin {
    0% {
        transform: rotate(0deg);
    }
    100% {
        transform: rotate(360deg);
    }
}

@keyframes typing {
    0% {
        width: 0%;
        visibility: hidden;
    }
    100% {
        width: 100%;
    }
}

@keyframes blink {
    50% {
        border-color: transparent;
    }
    100% {
        border-color: white;
    }
}

.animate-typing {
    animation: typing 2s steps(20) infinite alternate, blink .7s infinite;
}

/* Custom scrollbar for better UX */
::-webkit-scrollbar {
    width: 8px;
}

::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.1);
}

::-webkit-scrollbar-thumb {
    background: linear-gradient(to bottom, #30459D, #8f94fb);
    border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(to bottom, #4e54c8, #30459D);
}

/* Glass effect */
.glass-effect {
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
}

/* Smooth slide transitions */
.slide-container, .room-detail-container {
    transition: transform 0.5s ease, opacity 0.7s ease;
}

/* Continuous typing animation (no blinking after completion) */
@keyframes continuous-typing {
    0% {
        width: 0%;
    }
    50% {
        width: 100%;
    }
    100% {
        width: 0%;
    }
}

.animate-typing {
    animation: continuous-typing 4s steps(20) infinite;
    border-right: 4px solid white;
}

/* Better scroll behavior */
html {
    scroll-snap-type: y mandatory;
    scroll-behavior: smooth;
}

.sticky {
    scroll-snap-align: start;
}

/* Floating particles animation */
@keyframes float {
    0%, 100% {
        transform: translateY(0) translateX(0);
        opacity: 0.3;
    }
    50% {
        transform: translateY(-20px) translateX(10px);
        opacity: 0.7;
    }
}

.float-star {
    animation: float 6s ease-in-out infinite;
}

/* MOBILE-SPECIFIC FIXES */
@media (max-width: 768px) {
    /* Enable touch scrolling */
    .touch-scroll {
        -webkit-overflow-scrolling: touch;
        overflow-scrolling: touch;
    }
    
    /* Optimize buttons for mobile */
    button, 
    [role="button"],
    .clickable,
    .room-card,
    .simple-button {
        touch-action: manipulation;
        -webkit-tap-highlight-color: transparent;
        min-height: 44px !important;
        min-width: 44px !important;
    }
    
    /* Fix for iOS 100vh issue */
    .h-screen {
        height: 100vh;
        height: -webkit-fill-available;
        min-height: -webkit-fill-available;
    }
    
    /* Prevent unwanted scrolling */
    .no-scroll {
        overflow: hidden !important;
        position: fixed;
        width: 100%;
    }
}

/* Scroll snapping for slide screens */
.scroll-snap-y {
    scroll-snap-type: y mandatory;
    -webkit-overflow-scrolling: touch;
}

.scroll-snap-start {
    scroll-snap-align: start;
}

/* Disable pull-to-refresh on mobile */
body {
    overscroll-behavior-y: contain;
}

/* Fix iOS bouncing */
@supports (-webkit-touch-callout: none) {
    .h-screen {
        height: -webkit-fill-available;
    }
}

/* Touch optimization */
* {
    -webkit-tap-highlight-color: transparent;
    -webkit-touch-callout: none;
}

button, 
[role="button"],
.clickable,
a[href] {
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
    touch-action: manipulation;
    cursor: pointer;
}

/* Fix for iOS Safari 100vh issue */
.h-screen {
    min-height: 100vh;
    min-height: -webkit-fill-available;
}

/* Improve scrolling on mobile */
@media (max-width: 768px) {
    * {
        -webkit-tap-highlight-color: transparent;
    }
    
    body {
        overflow-x: hidden;
        -webkit-overflow-scrolling: touch;
    }
    
    /* Improve scrolling for story feeds */
    .overflow-y-auto {
        -webkit-overflow-scrolling: touch;
        scroll-behavior: smooth;
    }
    
    /* Prevent body scroll when modals are open */
    body.modal-open {
        overflow: hidden;
        position: fixed;
        width: 100%;
    }
    
    /* Mobile-specific button fixes */
    .mobile-btn {
        position: relative;
        z-index: 100;
    }
    
    /* Fix for iOS click delay */
    a, button, input[type="button"], input[type="submit"] {
        -webkit-appearance: none;
        -webkit-touch-callout: none;
    }
}

/* Add this for immediate touch response */
.touch-immediate {
    touch-action: manipulation;
    cursor: pointer;
}

@media (max-width: 768px) {
    /* Mobile-specific button fixes */
    button, 
    [role="button"],
    .clickable,
    .room-card,
    .simple-button,
    .mobile-btn {
        touch-action: manipulation;
        -webkit-tap-highlight-color: transparent;
        min-height: 44px !important;
        min-width: 44px !important;
    }
}

/* Desktop buttons - no min-width restriction */
button, 
[role="button"],
.clickable,
a[href] {
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
    touch-action: manipulation;
    cursor: pointer;
}


/* === MOBILE BOTTOM NAV FIX === */
.bottom-nav-mobile {
  position: fixed;
  left: 0;
  right: 0;
  bottom: env(safe-area-inset-bottom);
  z-index: 50;
}

/* Desktop keeps original behavior */
@media (min-width: 768px) {
  .bottom-nav-mobile {
    position: sticky;
    bottom: 0;
  }
}
